<h1 style="box-sizing: border-box; margin: 20px 0px 10px; font-size: 36px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Filters</h1>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Filters are objects that run before and/or after<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-structure-controllers.html#actions">controller actions</a>. For example, an access control filter may run before actions to ensure that they are allowed to be accessed by particular end users; a content compression filter may run after actions to compress the response content before sending them out to end users.</p>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">A filter may consist of a pre-filter (filtering logic applied<span class="Apple-converted-space">&nbsp;</span><em style="box-sizing: border-box;">before</em><span class="Apple-converted-space">&nbsp;</span>actions) and/or a post-filter (logic applied<span class="Apple-converted-space">&nbsp;</span><em style="box-sizing: border-box;">after</em><span class="Apple-converted-space">&nbsp;</span>actions).</p>
<h2 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 30px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Using Filters<a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" name="using-filters"></a></h2>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Filters are essentially a special kind of<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-concept-behaviors.html">behaviors</a>. Therefore, using filters is the same as<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-concept-behaviors.html#attaching-behaviors">using behaviors</a>. You can declare filters in a controller class by overriding its<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-base-component.html#behaviors()-detail">behaviors()</a><span class="Apple-converted-space">&nbsp;</span>method like the following:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">public&nbsp;function&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">behaviors</span><span style="box-sizing: border-box; color: #007700;">()<br style="box-sizing: border-box;" />{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'class'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'yii\filters\HttpCache'</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'only'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'index'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'view'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'lastModified'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;function&nbsp;(</span><span style="box-sizing: border-box; color: #0000bb;">$action</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$params</span><span style="box-sizing: border-box; color: #007700;">)&nbsp;{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$q&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&nbsp;new&nbsp;\</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">db</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">Query</span><span style="box-sizing: border-box; color: #007700;">();<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$q</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">from</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'user'</span><span style="box-sizing: border-box; color: #007700;">)-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">max</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'updated_at'</span><span style="box-sizing: border-box; color: #007700;">);<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;];<br style="box-sizing: border-box;" />}</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">By default, filters declared in a controller class will be applied to<span class="Apple-converted-space">&nbsp;</span><em style="box-sizing: border-box;">all</em><span class="Apple-converted-space">&nbsp;</span>actions in that controller. You can, however, explicitly specify which actions the filter should be applied to by configuring the<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-base-actionfilter.html#$only-detail">only</a><span class="Apple-converted-space">&nbsp;</span>property. In the above example, the<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">HttpCache</code><span class="Apple-converted-space">&nbsp;</span>filter only applies to the<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">index</code><span class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">view</code>actions. You can also configure the<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-base-actionfilter.html#$except-detail">except</a><span class="Apple-converted-space">&nbsp;</span>property to blacklist some actions from being filtered.</p>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Besides controllers, you can also declare filters in a<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-structure-modules.html">module</a><span class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-structure-applications.html">application</a>. When you do so, the filters will be applied to<span class="Apple-converted-space">&nbsp;</span><em style="box-sizing: border-box;">all</em><span class="Apple-converted-space">&nbsp;</span>controller actions belonging to that module or application, unless you configure the filters'<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-base-actionfilter.html#$only-detail">only</a><span class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-base-actionfilter.html#$except-detail">except</a><span class="Apple-converted-space">&nbsp;</span>properties like described above.</p>
<blockquote style="box-sizing: border-box; padding: 10px 20px; margin: 0px 0px 20px; font-size: 14px; border-left-width: 5px; border-left-style: solid; border-left-color: #eeeeee; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">
<p style="box-sizing: border-box; margin: 0px;">Note: When declaring filters in modules or applications, you should use<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-structure-controllers.html#routes">routes</a><span class="Apple-converted-space">&nbsp;</span>instead of action IDs in the<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-base-actionfilter.html#$only-detail">only</a><span class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-base-actionfilter.html#$except-detail">except</a><span class="Apple-converted-space">&nbsp;</span>properties. This is because action IDs alone cannot fully specify actions within the scope of a module or application.</p>
</blockquote>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">When multiple filters are configured for a single action, they are applied according to the rules described below,</p>
<ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">
<li style="box-sizing: border-box;">Pre-filtering
<ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;">
<li style="box-sizing: border-box;">Apply filters declared in the application in the order they are listed in<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">behaviors()</code>.</li>
<li style="box-sizing: border-box;">Apply filters declared in the module in the order they are listed in<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">behaviors()</code>.</li>
<li style="box-sizing: border-box;">Apply filters declared in the controller in the order they are listed in<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">behaviors()</code>.</li>
<li style="box-sizing: border-box;">If any of the filters cancel the action execution, the filters (both pre-filters and post-filters) after it will not be applied.</li>
</ul>
</li>
<li style="box-sizing: border-box;">Running the action if it passes the pre-filtering.</li>
<li style="box-sizing: border-box;">Post-filtering
<ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;">
<li style="box-sizing: border-box;">Apply filters declared in the controller in the reverse order they are listed in<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">behaviors()</code>.</li>
<li style="box-sizing: border-box;">Apply filters declared in the module in the reverse order they are listed in<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">behaviors()</code>.</li>
<li style="box-sizing: border-box;">Apply filters declared in the application in the reverse order they are listed in<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">behaviors()</code>.</li>
</ul>
</li>
</ul>
<h2 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 30px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Creating Filters<a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" name="creating-filters"></a></h2>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">To create a new action filter, extend from<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-base-actionfilter.html">yii\base\ActionFilter</a><span class="Apple-converted-space">&nbsp;</span>and override the<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-base-actionfilter.html#beforeAction()-detail">beforeAction()</a><span class="Apple-converted-space">&nbsp;</span>and/or<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-base-actionfilter.html#afterAction()-detail">afterAction()</a><span class="Apple-converted-space">&nbsp;</span>methods. The former will be executed before an action runs while the latter after an action runs. The return value of<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-base-actionfilter.html#beforeAction()-detail">beforeAction()</a><span class="Apple-converted-space">&nbsp;</span>determines whether an action should be executed or not. If it is false, the filters after this one will be skipped and the action will not be executed.</p>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">The following example shows a filter that logs the action execution time:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">namespace&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">app</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">components</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" />use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">base</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">ActionFilter</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />class&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">ActionTimeFilter&nbsp;</span><span style="box-sizing: border-box; color: #007700;">extends&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">ActionFilter<br style="box-sizing: border-box;" /></span><span style="box-sizing: border-box; color: #007700;">{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$_startTime</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">beforeAction</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #0000bb;">$action</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$this</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">_startTime&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">microtime</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #0000bb;">true</span><span style="box-sizing: border-box; color: #007700;">);<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">parent</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">beforeAction</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #0000bb;">$action</span><span style="box-sizing: border-box; color: #007700;">);<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;}<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">afterAction</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #0000bb;">$action</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$result</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$time&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">microtime</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #0000bb;">true</span><span style="box-sizing: border-box; color: #007700;">)&nbsp;-&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$this</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">_startTime</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">trace</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">"Action&nbsp;'</span><span style="box-sizing: border-box; color: #007700;">{</span><span style="box-sizing: border-box; color: #0000bb;">$action</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">uniqueId</span><span style="box-sizing: border-box; color: #007700;">}</span><span style="box-sizing: border-box; color: #dd0000;">'&nbsp;spent&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$time</span><span style="box-sizing: border-box; color: #dd0000;">&nbsp;second."</span><span style="box-sizing: border-box; color: #007700;">);<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">parent</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">afterAction</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #0000bb;">$action</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$result</span><span style="box-sizing: border-box; color: #007700;">);<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;}<br style="box-sizing: border-box;" />}</span></code></pre>
<h2 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 30px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Core Filters<a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" name="core-filters"></a></h2>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Yii provides a set of commonly used filters, found primarily under the<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">yii\filters</code><span class="Apple-converted-space">&nbsp;</span>namespace. In the following, we will briefly introduce these filters.</p>
<h3 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 24px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-filters-accesscontrol.html">AccessControl</a><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" name="access-control"></a></h3>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">AccessControl provides simple access control based on a set of<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-filters-accesscontrol.html#$rules-detail">rules</a>. In particular, before an action is executed, AccessControl will examine the listed rules and find the first one that matches the current context variables (such as user IP address, user login status, etc.) The matching rule will dictate whether to allow or deny the execution of the requested action. If no rule matches, the access will be denied.</p>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">The following example shows how to allow authenticated users to access the<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">create</code><span class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">update</code><span class="Apple-converted-space">&nbsp;</span>actions while denying all other users from accessing these two actions.</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">filters</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">AccessControl</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />public&nbsp;function&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">behaviors</span><span style="box-sizing: border-box; color: #007700;">()<br style="box-sizing: border-box;" />{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'access'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'class'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">AccessControl</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">className</span><span style="box-sizing: border-box; color: #007700;">(),<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'only'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'create'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'update'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'rules'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #ff8000;">//&nbsp;allow&nbsp;authenticated&nbsp;users<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #007700;">[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'allow'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">true</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'roles'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'@'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #ff8000;">//&nbsp;everything&nbsp;else&nbsp;is&nbsp;denied&nbsp;by&nbsp;default<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;];<br style="box-sizing: border-box;" />}</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">For more details about access control in general, please refer to the<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-security-authorization.html">Authorization</a><span class="Apple-converted-space">&nbsp;</span>section.</p>
<h3 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 24px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Authentication Method Filters<a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" name="auth-method-filters"></a></h3>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Authentication method filters are used to authenticate a user based using various methods, such as<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic Auth</a>,<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://oauth.net/2/">OAuth 2</a>. These filter classes are all under the<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">yii\filters\auth</code><span class="Apple-converted-space">&nbsp;</span>namespace.</p>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">The following example shows how you can use<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-filters-auth-httpbasicauth.html">yii\filters\auth\HttpBasicAuth</a><span class="Apple-converted-space">&nbsp;</span>to authenticate a user using an access token based on HTTP Basic Auth method. Note that in order for this to work, your<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-web-user.html#$identityClass-detail">user identity class</a><span class="Apple-converted-space">&nbsp;</span>must implement the<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-web-identityinterface.html#findIdentityByAccessToken()-detail">findIdentityByAccessToken()</a><span class="Apple-converted-space">&nbsp;</span>method.</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">filters</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">auth</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">HttpBasicAuth</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />public&nbsp;function&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">behaviors</span><span style="box-sizing: border-box; color: #007700;">()<br style="box-sizing: border-box;" />{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'basicAuth'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'class'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">HttpBasicAuth</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">className</span><span style="box-sizing: border-box; color: #007700;">(),<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;];<br style="box-sizing: border-box;" />}</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Authentication method filters are commonly used in implementing RESTful APIs. For more details, please refer to the RESTful<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-rest-authentication.html">Authentication</a>section.</p>
<h3 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 24px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-filters-contentnegotiator.html">ContentNegotiator</a><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" name="content-negotiator"></a></h3>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">ContentNegotiator supports response format negotiation and application language negotiation. It will try to determine the response format and/or language by examining<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">GET</code><span class="Apple-converted-space">&nbsp;</span>parameters and<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">Accept</code><span class="Apple-converted-space">&nbsp;</span>HTTP header.</p>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">In the following example, ContentNegotiator is configured to support JSON and XML response formats, and English (United States) and German languages.</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">filters</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">ContentNegotiator</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" />use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">web</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">Response</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />public&nbsp;function&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">behaviors</span><span style="box-sizing: border-box; color: #007700;">()<br style="box-sizing: border-box;" />{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'class'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">ContentNegotiator</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">className</span><span style="box-sizing: border-box; color: #007700;">(),<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'formats'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'application/json'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Response</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">FORMAT_JSON</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'application/xml'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Response</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">FORMAT_XML</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'languages'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'en-US'</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'de'</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;];<br style="box-sizing: border-box;" />}</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Response formats and languages often need to be determined much earlier during the<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-structure-applications.html#application-lifecycle">application lifecycle</a>. For this reason, ContentNegotiator is designed in a way such that it can also be used as a<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-structure-applications.html#bootstrap">bootstrapping component</a><span class="Apple-converted-space">&nbsp;</span>besides filter. For example, you may configure it in the<a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-structure-applications.html#application-configurations">application configuration</a><span class="Apple-converted-space">&nbsp;</span>like the following:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">filters</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">ContentNegotiator</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" />use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">web</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">Response</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'bootstrap'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'class'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">ContentNegotiator</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">className</span><span style="box-sizing: border-box; color: #007700;">(),<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'formats'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'application/json'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Response</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">FORMAT_JSON</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'application/xml'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Response</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">FORMAT_XML</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'languages'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'en-US'</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'de'</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />];</span></code></pre>
<blockquote style="box-sizing: border-box; padding: 10px 20px; margin: 0px 0px 20px; font-size: 14px; border-left-width: 5px; border-left-style: solid; border-left-color: #eeeeee; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">
<p style="box-sizing: border-box; margin: 0px;">Info: In case the preferred content type and language cannot be determined from a request, the first format and language listed in<span class="Apple-converted-space">&nbsp;</span><span style="box-sizing: border-box; background: #ff0000;">formats</span>and<span class="Apple-converted-space">&nbsp;</span><span style="box-sizing: border-box; background: #ff0000;">languages</span><span class="Apple-converted-space">&nbsp;</span>will be used.</p>
</blockquote>
<h3 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 24px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-filters-httpcache.html">HttpCache</a><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" name="http-cache"></a></h3>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">HttpCache implements client-side caching by utilizing the<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">Last-Modified</code><span class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">Etag</code><span class="Apple-converted-space">&nbsp;</span>HTTP headers. For example,</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">filters</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">HttpCache</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />public&nbsp;function&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">behaviors</span><span style="box-sizing: border-box; color: #007700;">()<br style="box-sizing: border-box;" />{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'class'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">HttpCache</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">className</span><span style="box-sizing: border-box; color: #007700;">(),<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'only'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'index'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'lastModified'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;function&nbsp;(</span><span style="box-sizing: border-box; color: #0000bb;">$action</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$params</span><span style="box-sizing: border-box; color: #007700;">)&nbsp;{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$q&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&nbsp;new&nbsp;\</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">db</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">Query</span><span style="box-sizing: border-box; color: #007700;">();<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$q</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">from</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'user'</span><span style="box-sizing: border-box; color: #007700;">)-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">max</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'updated_at'</span><span style="box-sizing: border-box; color: #007700;">);<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;];<br style="box-sizing: border-box;" />}</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Please refer to the<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-caching-http.html">HTTP Caching</a><span class="Apple-converted-space">&nbsp;</span>section for more details about using HttpCache.</p>
<h3 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 24px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-filters-pagecache.html">PageCache</a><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" name="page-cache"></a></h3>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">PageCache implements server-side caching of whole pages. In the following example, PageCache is applied to the<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">index</code><span class="Apple-converted-space">&nbsp;</span>action to cache the whole page for maximum 60 seconds or until the count of entries in the<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">post</code><span class="Apple-converted-space">&nbsp;</span>table changes. It also stores different versions of the page depending on the chosen application language.</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">filters</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">PageCache</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" />use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">caching</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">DbDependency</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />public&nbsp;function&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">behaviors</span><span style="box-sizing: border-box; color: #007700;">()<br style="box-sizing: border-box;" />{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'pageCache'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'class'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">PageCache</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">className</span><span style="box-sizing: border-box; color: #007700;">(),<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'only'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'index'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'duration'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">60</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'dependency'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'class'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">DbDependency</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">className</span><span style="box-sizing: border-box; color: #007700;">(),<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'sql'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'SELECT&nbsp;COUNT(*)&nbsp;FROM&nbsp;post'</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'variations'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\</span><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">language</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;];<br style="box-sizing: border-box;" />}</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Please refer to the<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-caching-page.html">Page Caching</a><span class="Apple-converted-space">&nbsp;</span>section for more details about using PageCache.</p>
<h3 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 24px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-filters-ratelimiter.html">RateLimiter</a><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" name="rate-limiter"></a></h3>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">RateLimiter implements a rate limiting algorithm based on the<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://en.wikipedia.org/wiki/Leaky_bucket">leaky bucket algorithm</a>. It is primarily used in implementing RESTful APIs. Please refer to the<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/guide-rest-rate-limiting.html">Rate Limiting</a><span class="Apple-converted-space">&nbsp;</span>section for details about using this filter.</p>
<h3 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 24px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-filters-verbfilter.html">VerbFilter</a><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" name="verb-filter"></a></h3>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">VerbFilter checks if the HTTP request methods are allowed by the requested actions. If not allowed, it will throw an HTTP 405 exception. In the following example, VerbFilter is declared to specify a typical set of allowed request methods for CRUD actions.</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">filters</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">VerbFilter</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />public&nbsp;function&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">behaviors</span><span style="box-sizing: border-box; color: #007700;">()<br style="box-sizing: border-box;" />{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'verbs'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'class'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">VerbFilter</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">className</span><span style="box-sizing: border-box; color: #007700;">(),<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'actions'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'index'&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'get'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'view'&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'get'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'create'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'get'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'post'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'update'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'get'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'put'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'post'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'delete'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'post'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'delete'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;];<br style="box-sizing: border-box;" />}</span></code></pre>
<h3 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 24px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-filters-cors.html">Cors</a><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" name="cors"></a></h3>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Cross-origin resource sharing<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="https://developer.mozilla.org/fr/docs/HTTP/Access_control_CORS">CORS</a><span class="Apple-converted-space">&nbsp;</span>is a mechanism that allows many resources (e.g. fonts, JavaScript, etc.) on a Web page to be requested from another domain outside the domain the resource originated from. In particular, JavaScript's AJAX calls can use the XMLHttpRequest mechanism. Such "cross-domain" requests would otherwise be forbidden by Web browsers, per the same origin security policy. CORS defines a way in which the browser and the server can interact to determine whether or not to allow the cross-origin request.</p>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">The<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-filters-cors.html">Cors filter</a><span class="Apple-converted-space">&nbsp;</span>should be defined before Authentication / Authorization filters to make sure the CORS headers will always be sent.</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">filters</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">Cors</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" />use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">helpers</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">ArrayHelper</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />public&nbsp;function&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">behaviors</span><span style="box-sizing: border-box; color: #007700;">()<br style="box-sizing: border-box;" />{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">ArrayHelper</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">merge</span><span style="box-sizing: border-box; color: #007700;">([<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'class'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Cors</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">className</span><span style="box-sizing: border-box; color: #007700;">(),<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;],&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">parent</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">behaviors</span><span style="box-sizing: border-box; color: #007700;">());<br style="box-sizing: border-box;" />}</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">The Cors filtering could be tuned using the<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">cors</code><span class="Apple-converted-space">&nbsp;</span>property.</p>
<ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">
<li style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">cors['Origin']</code>: array used to define allowed origins. Can be<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">['*']</code><span class="Apple-converted-space">&nbsp;</span>(everyone) or<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">['http://www.myserver.net', 'http://www.myotherserver.com']</code>. Default to<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">['*']</code>.</li>
<li style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">cors['Access-Control-Request-Method']</code>: array of allowed verbs like<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">['GET', 'OPTIONS', 'HEAD']</code>. Default to<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS']</code>.</li>
<li style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">cors['Access-Control-Request-Headers']</code>: array of allowed headers. Can be<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">['*']</code><span class="Apple-converted-space">&nbsp;</span>all headers or specific ones<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">['X-Request-With']</code>. Default to<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">['*']</code>.</li>
<li style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">cors['Access-Control-Allow-Credentials']</code>: define if current request can be made using credentials. Can be<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">true</code>,<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">false</code><span class="Apple-converted-space">&nbsp;</span>or<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">null</code><span class="Apple-converted-space">&nbsp;</span>(not set). Default to<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">null</code>.</li>
<li style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">cors['Access-Control-Max-Age']</code>: define lifetime of pre-flight request. Default to<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">86400</code>.</li>
</ul>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">For example, allowing CORS for origin :<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">http://www.myserver.net</code><span class="Apple-converted-space">&nbsp;</span>with method<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">GET</code>,<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">HEAD</code><span class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">OPTIONS</code><span class="Apple-converted-space">&nbsp;</span>:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">filters</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">Cors</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" />use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">helpers</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">ArrayHelper</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />public&nbsp;function&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">behaviors</span><span style="box-sizing: border-box; color: #007700;">()<br style="box-sizing: border-box;" />{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">ArrayHelper</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">merge</span><span style="box-sizing: border-box; color: #007700;">([<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'class'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Cors</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">className</span><span style="box-sizing: border-box; color: #007700;">(),<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'cors'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'Origin'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'http://www.myserver.net'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'Access-Control-Request-Method'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'GET'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'HEAD'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'OPTIONS'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;],&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">parent</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">behaviors</span><span style="box-sizing: border-box; color: #007700;">());<br style="box-sizing: border-box;" />}</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">You may tune the CORS headers by overriding default parameters on a per action basis. For example adding the<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">Access-Control-Allow-Credentials</code><span class="Apple-converted-space">&nbsp;</span>for the<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">login</code><span class="Apple-converted-space">&nbsp;</span>action could be done like this :</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">filters</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">Cors</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" />use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">helpers</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">ArrayHelper</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" />public&nbsp;function&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">behaviors</span><span style="box-sizing: border-box; color: #007700;">()<br style="box-sizing: border-box;" />{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">ArrayHelper</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">merge</span><span style="box-sizing: border-box; color: #007700;">([<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'class'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Cors</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">className</span><span style="box-sizing: border-box; color: #007700;">(),<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'cors'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'Origin'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'http://www.myserver.net'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'Access-Control-Request-Method'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'GET'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'HEAD'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'OPTIONS'</span><span style="box-sizing: border-box; color: #007700;">],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'actions'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'login'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'Access-Control-Allow-Credentials'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">true</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;],&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">parent</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">behaviors</span><span style="box-sizing: border-box; color: #007700;">());<br style="box-sizing: border-box;" />}</span></code></pre>