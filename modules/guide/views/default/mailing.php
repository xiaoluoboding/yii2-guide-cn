<h1 style="box-sizing: border-box; margin: 20px 0px 10px; font-size: 36px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Mailing</h1>
<blockquote style="box-sizing: border-box; padding: 10px 20px; margin: 0px 0px 20px; font-size: 14px; border-left-width: 5px; border-left-style: solid; border-left-color: #eeeeee; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">
<p style="box-sizing: border-box; margin: 0px;">Note: This section is under development.</p>
</blockquote>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Yii supports composition and sending of the email messages. However, the framework core provides only the content composition functionality and basic interface. Actual mail sending mechanism should be provided by the extension, because different projects may require its different implementation and it usually depends on the external services and libraries.</p>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">For the most common cases you can use<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="https://github.com/yiisoft/yii2/tree/master/extensions/swiftmailer">yii2-swiftmailer</a><span class="Apple-converted-space">&nbsp;</span>official extension.</p>
<h2 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 30px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Configuration</h2>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Mail component configuration depends on the extension you have chosen. In general your application configuration should look like:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">return&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #ff8000;">//....<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'components'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'mailer'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'class'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'yii\swiftmailer\Mailer'</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;],<br style="box-sizing: border-box;" />];</span></code></pre>
<h2 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 30px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Basic usage</h2>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Once 'mailer' component is configured, you can use the following code to send an email message:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">mailer</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">compose</span><span style="box-sizing: border-box; color: #007700;">()<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setFrom</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'from@domain.com'</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setTo</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'to@domain.com'</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setSubject</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'Message&nbsp;subject'</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setTextBody</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'Plain&nbsp;text&nbsp;content'</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setHtmlBody</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'&lt;b&gt;HTML&nbsp;content&lt;/b&gt;'</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">send</span><span style="box-sizing: border-box; color: #007700;">();</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">In above example method<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">compose()</code><span class="Apple-converted-space">&nbsp;</span>creates an instance of the mail message, which then is populated and sent. You may put more complex logic in this process if needed:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #0000bb;">$message&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">mailer</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">compose</span><span style="box-sizing: border-box; color: #007700;">();<br style="box-sizing: border-box;" />if&nbsp;(</span><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">user</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">isGuest</span><span style="box-sizing: border-box; color: #007700;">)&nbsp;{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$message</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setFrom</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'from@domain.com'</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />}&nbsp;else&nbsp;{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$message</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setFrom</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">user</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">identity</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">email</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />}<br style="box-sizing: border-box;" /></span><span style="box-sizing: border-box; color: #0000bb;">$message</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setTo</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">params</span><span style="box-sizing: border-box; color: #007700;">[</span><span style="box-sizing: border-box; color: #dd0000;">'adminEmail'</span><span style="box-sizing: border-box; color: #007700;">])<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setSubject</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'Message&nbsp;subject'</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setTextBody</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'Plain&nbsp;text&nbsp;content'</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">send</span><span style="box-sizing: border-box; color: #007700;">();</span></code></pre>
<blockquote style="box-sizing: border-box; padding: 10px 20px; margin: 0px 0px 20px; font-size: 14px; border-left-width: 5px; border-left-style: solid; border-left-color: #eeeeee; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">
<p style="box-sizing: border-box; margin: 0px;">Note: each 'mailer' extension comes in 2 major classes: 'Mailer' and 'Message'. 'Mailer' always knows the class name and specific of the 'Message'. Do not attempt ot instantiate 'Message' object directly - always use<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">compose()</code><span class="Apple-converted-space">&nbsp;</span>method for it.</p>
</blockquote>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">You may also send several messages at once:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #0000bb;">$messages&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&nbsp;[];<br style="box-sizing: border-box;" />foreach&nbsp;(</span><span style="box-sizing: border-box; color: #0000bb;">$users&nbsp;</span><span style="box-sizing: border-box; color: #007700;">as&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$user</span><span style="box-sizing: border-box; color: #007700;">)&nbsp;{<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$messages</span><span style="box-sizing: border-box; color: #007700;">[]&nbsp;=&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">mailer</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">compose</span><span style="box-sizing: border-box; color: #007700;">()<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #ff8000;">//&nbsp;...<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setTo</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #0000bb;">$user</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">email</span><span style="box-sizing: border-box; color: #007700;">);<br style="box-sizing: border-box;" />}<br style="box-sizing: border-box;" /></span><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">mailer</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">sendMultiple</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #0000bb;">$messages</span><span style="box-sizing: border-box; color: #007700;">);</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Some particular mail extensions may benefit from this approach, using single network message etc.</p>
<h2 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 30px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Composing mail content</h2>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Yii allows composition of the actual mail messages content via special view files. By default these files should be located at '@app/mail' path.</p>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Example mail view file content:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #0000bb;">&lt;?php<br style="box-sizing: border-box;" /></span><span style="box-sizing: border-box; color: #007700;">use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">helpers</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">Html</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" />use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">helpers</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">Url</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" /></span><span style="box-sizing: border-box; color: #ff8000;">/*&nbsp;@var&nbsp;$this&nbsp;\yii\web\View&nbsp;view&nbsp;component&nbsp;instance&nbsp;*/<br style="box-sizing: border-box;" />/*&nbsp;@var&nbsp;$message&nbsp;\yii\mail\BaseMessage&nbsp;instance&nbsp;of&nbsp;newly&nbsp;created&nbsp;mail&nbsp;message&nbsp;*/<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" /></span><span style="box-sizing: border-box; color: #0000bb;">?&gt;<br style="box-sizing: border-box;" /></span>&lt;h2&gt;This&nbsp;message&nbsp;allows&nbsp;you&nbsp;to&nbsp;visit&nbsp;out&nbsp;site&nbsp;home&nbsp;page&nbsp;by&nbsp;one&nbsp;click&lt;/h2&gt;<br style="box-sizing: border-box;" /><span style="box-sizing: border-box; color: #0000bb;">&lt;?=&nbsp;Html</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">a</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'Go&nbsp;to&nbsp;home&nbsp;page'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Url</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">home</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'http'</span><span style="box-sizing: border-box; color: #007700;">))&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">?&gt;</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">In order to compose message content via view file simply pass view name to the<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">compose()</code><span class="Apple-converted-space">&nbsp;</span>method:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">mailer</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">compose</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'home-link'</span><span style="box-sizing: border-box; color: #007700;">)&nbsp;</span><span style="box-sizing: border-box; color: #ff8000;">//&nbsp;message&nbsp;body&nbsp;becomes&nbsp;a&nbsp;view&nbsp;rendering&nbsp;result&nbsp;here<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setFrom</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'from@domain.com'</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setTo</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'to@domain.com'</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">setSubject</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'Message&nbsp;subject'</span><span style="box-sizing: border-box; color: #007700;">)<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">send</span><span style="box-sizing: border-box; color: #007700;">();</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">You may pass additional view parameters to<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">compose()</code><span class="Apple-converted-space">&nbsp;</span>method, which will be available inside the view files:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">mailer</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">compose</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'greetings'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;[<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'user'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">user</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">identity</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'advertisement'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$adContent</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />]);</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">You can specify different view files for HTML and plain text message contents:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">mailer</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">compose</span><span style="box-sizing: border-box; color: #007700;">([<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'html'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'contact-html'</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'text'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'contact-text'</span><span style="box-sizing: border-box; color: #007700;">,<br style="box-sizing: border-box;" />]);</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">If you specify view name as a scalar string, its rendering result will be used as HTML body, while plain text body will be composed by removing all HTML entities from HTML one.</p>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">View rendering result can be wrapped into the layout, which an be setup using<span class="Apple-converted-space">&nbsp;</span><a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-mail-basemailer.html#$htmlLayout-detail">yii\mail\BaseMailer::$htmlLayout</a><span class="Apple-converted-space">&nbsp;</span>and<a style="box-sizing: border-box; color: #428bca; text-decoration: none; background: transparent;" href="http://www.yiiframework.com/doc-2.0/yii-mail-basemailer.html#$textLayout-detail">yii\mail\BaseMailer::$textLayout</a>. It will work the same way like layouts in regular web application. Layout can be used to setup mail CSS styles or other shared content:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #0000bb;">&lt;?php<br style="box-sizing: border-box;" /></span><span style="box-sizing: border-box; color: #007700;">use&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">yii</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">helpers</span><span style="box-sizing: border-box; color: #007700;">\</span><span style="box-sizing: border-box; color: #0000bb;">Html</span><span style="box-sizing: border-box; color: #007700;">;<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" /></span><span style="box-sizing: border-box; color: #ff8000;">/*&nbsp;@var&nbsp;$this&nbsp;\yii\web\View&nbsp;view&nbsp;component&nbsp;instance&nbsp;*/<br style="box-sizing: border-box;" />/*&nbsp;@var&nbsp;$message&nbsp;\yii\mail\MessageInterface&nbsp;the&nbsp;message&nbsp;being&nbsp;composed&nbsp;*/<br style="box-sizing: border-box;" />/*&nbsp;@var&nbsp;$content&nbsp;string&nbsp;main&nbsp;view&nbsp;render&nbsp;result&nbsp;*/<br style="box-sizing: border-box;" /></span><span style="box-sizing: border-box; color: #0000bb;">?&gt;<br style="box-sizing: border-box;" />&lt;?php&nbsp;$this</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">beginPage</span><span style="box-sizing: border-box; color: #007700;">()&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">?&gt;<br style="box-sizing: border-box;" /></span>&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;"-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Strict//EN"&nbsp;"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;<br style="box-sizing: border-box;" />&lt;html&nbsp;xmlns="http://www.w3.org/1999/xhtml"&gt;<br style="box-sizing: border-box;" />&lt;head&gt;<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv="Content-Type"&nbsp;content="text/html;&nbsp;charset=<span style="box-sizing: border-box; color: #0000bb;">&lt;?=&nbsp;Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">charset&nbsp;?&gt;</span>"&nbsp;/&gt;<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&nbsp;type="text/css"&gt;<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.heading&nbsp;{...}<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.list&nbsp;{...}<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.footer&nbsp;{...}<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;<span style="box-sizing: border-box; color: #0000bb;">&lt;?php&nbsp;$this</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">head</span><span style="box-sizing: border-box; color: #007700;">()&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">?&gt;<br style="box-sizing: border-box;" /></span>&lt;/head&gt;<br style="box-sizing: border-box;" />&lt;body&gt;<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;<span style="box-sizing: border-box; color: #0000bb;">&lt;?php&nbsp;$this</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">beginBody</span><span style="box-sizing: border-box; color: #007700;">()&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">?&gt;<br style="box-sizing: border-box;" /></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="box-sizing: border-box; color: #0000bb;">&lt;?=&nbsp;$content&nbsp;?&gt;<br style="box-sizing: border-box;" /></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class="footer"&gt;With&nbsp;kind&nbsp;regards,&nbsp;<span style="box-sizing: border-box; color: #0000bb;">&lt;?=&nbsp;Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">name&nbsp;?&gt;</span>&nbsp;team&lt;/div&gt;<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;<span style="box-sizing: border-box; color: #0000bb;">&lt;?php&nbsp;$this</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">endBody</span><span style="box-sizing: border-box; color: #007700;">()&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">?&gt;<br style="box-sizing: border-box;" /></span>&lt;/body&gt;<br style="box-sizing: border-box;" />&lt;/html&gt;<br style="box-sizing: border-box;" /><span style="box-sizing: border-box; color: #0000bb;">&lt;?php&nbsp;$this</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">endPage</span><span style="box-sizing: border-box; color: #007700;">()&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">?&gt;</span></code></pre>
<h2 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 30px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">File attachment</h2>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">You can add attachments to message using methods<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">attach()</code><span class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">attachContent()</code>:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #0000bb;">$message&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">mailer</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">compose</span><span style="box-sizing: border-box; color: #007700;">();<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" /></span><span style="box-sizing: border-box; color: #ff8000;">//&nbsp;Attach&nbsp;file&nbsp;from&nbsp;local&nbsp;file&nbsp;system:<br style="box-sizing: border-box;" /></span><span style="box-sizing: border-box; color: #0000bb;">$message</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">attach</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'/path/to/source/file.pdf'</span><span style="box-sizing: border-box; color: #007700;">);<br style="box-sizing: border-box;" /><br style="box-sizing: border-box;" /></span><span style="box-sizing: border-box; color: #ff8000;">//&nbsp;Create&nbsp;attachment&nbsp;on-the-fly<br style="box-sizing: border-box;" /></span><span style="box-sizing: border-box; color: #0000bb;">$message</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">attachContent</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'Attachment&nbsp;content'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'fileName'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'attach.txt'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'contentType'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'text/plain'</span><span style="box-sizing: border-box; color: #007700;">]);</span></code></pre>
<h2 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 30px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Embed images</h2>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">You can embed images into the message content using<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">embed()</code><span class="Apple-converted-space">&nbsp;</span>method. This method returns the attachment id, which should be then used at 'img' tag. This method is easy to use when composing message content via view file:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #0000bb;">Yii</span><span style="box-sizing: border-box; color: #007700;">::</span><span style="box-sizing: border-box; color: #0000bb;">$app</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">mailer</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">compose</span><span style="box-sizing: border-box; color: #007700;">(</span><span style="box-sizing: border-box; color: #dd0000;">'embed-email'</span><span style="box-sizing: border-box; color: #007700;">,&nbsp;[</span><span style="box-sizing: border-box; color: #dd0000;">'imageFileName'&nbsp;</span><span style="box-sizing: border-box; color: #007700;">=&gt;&nbsp;</span><span style="box-sizing: border-box; color: #dd0000;">'/path/to/image.jpg'</span><span style="box-sizing: border-box; color: #007700;">])<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #ff8000;">//&nbsp;...<br style="box-sizing: border-box;" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">send</span><span style="box-sizing: border-box; color: #007700;">();</span></code></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Then inside view file you can use following code:</p>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857143; color: #333333; word-break: break-all; word-wrap: break-word; border-left-width: 5px; border-style: none none none solid; border-left-color: #e0e5ea; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f5faff;"><code class="language-php" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span style="box-sizing: border-box; color: #007700;">&lt;</span><span style="box-sizing: border-box; color: #0000bb;">img&nbsp;src</span><span style="box-sizing: border-box; color: #007700;">=</span><span style="box-sizing: border-box; color: #dd0000;">"&lt;?=&nbsp;</span><span style="box-sizing: border-box; color: #0000bb;">$message</span><span style="box-sizing: border-box; color: #007700;">-&gt;</span><span style="box-sizing: border-box; color: #0000bb;">embed</span><span style="box-sizing: border-box; color: #dd0000;">(</span><span style="box-sizing: border-box; color: #0000bb;">$imageFileName</span><span style="box-sizing: border-box; color: #dd0000;">);&nbsp;?&gt;"</span><span style="box-sizing: border-box; color: #007700;">&gt;</span></code></pre>
<h2 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 30px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Testing and debugging</h2>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Developer often a to check, what actual emails are sent by application, what was their content and so on. Such ability is granted by Yii via<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">yii\mail\BaseMailer::useFileTransport</code>. If enabled, this option enforces saving mail message data into the local files instead of regular sending. These files will be saved under<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">yii\mail\BaseMailer::fileTransportPath</code>, which is '@runtime/mail' by default.</p>
<blockquote style="box-sizing: border-box; padding: 10px 20px; margin: 0px 0px 20px; font-size: 14px; border-left-width: 5px; border-left-style: solid; border-left-color: #eeeeee; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">
<p style="box-sizing: border-box; margin: 0px;">Note: you can either save messages to the file or send them to actual recipients, but can not do both simultaneously.</p>
</blockquote>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Mail message file can be opened by regular text file editor, so you can browse actual message headers, content and so on. This mechanism amy prove itself, while debugging application or running unit test.</p>
<blockquote style="box-sizing: border-box; padding: 10px 20px; margin: 0px 0px 20px; font-size: 14px; border-left-width: 5px; border-left-style: solid; border-left-color: #eeeeee; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">
<p style="box-sizing: border-box; margin: 0px;">Note: mail message file content is composed via<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">\yii\mail\MessageInterface::toString()</code>, so it depends on actual mail extension you are using in your application.</p>
</blockquote>
<h2 style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 500; line-height: 1.1; color: #333333; margin-top: 20px; margin-bottom: 10px; font-size: 30px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Creating your own mail solution</h2>
<p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 20px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">In order to create your own custom mail solution, you need to create 2 classes: one for the 'Mailer' and another one for the 'Message'. You can use<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">yii\mail\BaseMailer</code><span class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">yii\mail\BaseMessage</code><span class="Apple-converted-space">&nbsp;</span>as a base classes for your solution. These classes already contains basic logic, which is described in this guide. However, their usage is not mandatory, it is enough to implement<span class="Apple-converted-space">&nbsp;</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">yii\mail\MailerInterface</code><span class="Apple-converted-space">&nbsp;</span>and<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: #c7254e; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: #f9f2f4;">yii\mail\MessageInterface</code><span class="Apple-converted-space">&nbsp;</span>interfaces. Then you need to implement all abstract methods to build you solution.</p>